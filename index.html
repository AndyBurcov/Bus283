<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Автобус 283</title>
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#bb86fc">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
        :root { --bg: #121212; --card: #1e1e1e; --text: #e0e0e0; --accent: #bb86fc; --border: #333; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 10px; padding-bottom: 40px; }
        .container { max-width: 600px; margin: auto; background: var(--card); border-radius: 12px; overflow: hidden; }
        header { background: #252525; padding: 25px 15px; text-align: center; border-bottom: 2px solid var(--accent); }
        h1 { margin: 0; font-size: 2.2rem; font-style: italic; text-transform: uppercase; letter-spacing: 2px; color: white; margin-bottom: 20px; }
        .quote-box { display: inline-block; background: #2a2a2a; padding: 15px 25px; border-radius: 40px; border: 1px solid #444; max-width: 85%; }
        #bible-quote { font-style: italic; font-weight: bold; font-size: 0.95rem; color: white; margin: 0; }
        table { width: 100%; border-collapse: collapse; background: var(--card); }
        th, td { padding: 12px 5px; text-align: center; border-bottom: 1px solid var(--border); border-right: 1px solid var(--border); font-size: 0.85rem; }
        
        /* Блок пропозиції */
        .alt-option-box {
            margin: 20px auto;
            max-width: 580px;
            background: #2a2a2a;
            border: 2px solid var(--accent);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }
        .btn-action {
            background: var(--accent);
            color: black;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: bold;
            margin: 10px 5px;
            cursor: pointer;
            width: 90%;
            text-transform: uppercase;
        }
        .instruction-text { font-size: 0.85rem; color: #aaa; margin-top: 10px; }
    </style>
</head>
<body>

<div class="container" id="schedule-area">
    <header>
        <h1>АВТОБУС 283</h1>
        <div class="quote-box">
            <div id="bible-quote">Завантаження...</div>
        </div>
    </header>
    <table>
        <thead><tr><th>Пн — Пт</th><th>Субота</th><th>Неділя</th></tr></thead>
        <tbody>
            <tr><td>06:00 ➔ 06:30</td><td>06:00 ➔ 06:40</td><td>06:30 ➔ 07:10</td></tr>
            <tr><td>06:30 ➔ 07:10</td><td>06:50 ➔ 07:30</td><td>07:30 ➔ 08:10</td></tr>
            <tr><td>07:00 ➔ 07:40</td><td>07:50 ➔ 08:30</td><td>08:50 ➔ 09:30</td></tr>
            <tr><td>07:40 ➔ 08:20</td><td>08:50 ➔ 09:30</td><td>10:30 ➔ 11:30</td></tr>
            <tr><td>08:10 ➔ 08:45</td><td>09:40 ➔ 10:30</td><td>12:30 ➔ 13:30</td></tr>
            <tr><td>09:00 ➔ 09:40</td><td>10:30 ➔ 11:30</td><td>14:30 ➔ 15:30</td></tr>
            <tr><td>10:30 ➔ 11:00</td><td>11:30 ➔ 12:30</td><td>16:40 ➔ 17:20</td></tr>
            <tr><td>12:00 ➔ 12:30</td><td>12:30 ➔ 13:30</td><td>18:00 ➔ 18:40</td></tr>
            <tr><td>13:30 ➔ 14:00</td><td>13:30 ➔ 14:30</td><td>19:40 ➔ 20:10</td></tr>
            <tr><td>14:30 ➔ 15:00</td><td>14:30 ➔ 15:30</td><td>-</td></tr>
        </tbody>
    </table>
</div>

<div class="alt-option-box">
    <p><b>Не виходить додати на екран?</b></p>
    <button class="btn-action" onclick="downloadImage()">Зберегти розклад як фото</button>
    <p class="instruction-text">Картинка збережеться у галерею, щоб розклад був під рукою навіть без інтернету.</p>
</div>

<script>
    // Цитати
    const bibleVerses = [
        "«Я — дорога, і правда, і життя» (Івана 14:6)",
        "«Бо так полюбив Бог світ, що віддав Сина Свого» (Івана 3:16)",
        "«І нема ні в кім іншім спасіння» (Дії 4:12)"
    ];
    document.getElementById('bible-quote').innerText = bibleVerses[Math.floor(Math.random() * bibleVerses.length)];

    // Функція збереження картинки
    function downloadImage() {
        const area = document.getElementById('schedule-area');
        html2canvas(area, {backgroundColor: "#121212"}).then(canvas => {
            const link = document.createElement('a');
            link.download = 'rozklad-283.png';
            link.href = canvas.toDataURL();
            link.click();
        });
    }
</script>

</body>
</html>
